@layer reset, tokens, base, components, utilities, overrides;

/* ===============================================
   01. DESIGN TOKENS ‚Äî Canonical Base
   =============================================== */
@layer tokens {
  :root {
    /// ==============================================
    /// 01. DESIGN TOKENS ‚Äî rpx Spacing System
    /// ----------------------------------------------
    /// Spacing tokens now use rpx units (1rpx = 1/16 rem).
    /// Use --space-4rpx, --space-8rpx, etc. for modular spacing.
    /// Example: --space-16rpx = 1rem.
    /// ==============================================
    --rpx: calc(1rem / 16);
    --space-4rpx: calc(var(--rpx) * 4);   /// 4rpx = 0.25rem (4/16)
    --space-8rpx: calc(var(--rpx) * 8);   /// 8rpx = 0.5rem (8/16)
    --space-12rpx: calc(var(--rpx) * 12); /// 12rpx = 0.75rem (12/16)
    --space-16rpx: calc(var(--rpx) * 16); /// 16rpx = 1rem (16/16)
    --space-24rpx: calc(var(--rpx) * 24); /// 24rpx = 1.5rem (24/16)
    --space-32rpx: calc(var(--rpx) * 32); /// 32rpx = 2rem (32/16)

    // üé® Color (Semantic Prototypes)
    --color-bg: #f0f0f0;
    --color-surface: #ffffff;
    --color-border: #ccc;
    --color-primary: #99ccff;
    --color-success: #ccffcc;
    --color-error: #ffcccc;
    --color-warning: #ffe0b3;
    --color-text: #222;

    // üî≤ Radii
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 10px;

    // ‚è± Animation / Motion
    --motion-fast: 0.12s;
    --motion-medium: 0.25s;
    --motion-slow: 0.4s;
  }
  /* ===============================================
     02. TYPOGRAPHY TOKENS ‚Äî Prototype Edition
     =============================================== */
  :root {
    // üó£Ô∏è FONT FAMILIES
    --font-display: "Comic Sans MS", "Comic Sans", cursive;
    --font-body: "Comic Sans MS", "Comic Sans", cursive;

    // üß± FONT SIZES ‚Äî minimal responsive set
    --font-xs: 0.75rem;
    --font-sm: 0.875rem;
    --font-md: 1rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;

    // üß© FONT WEIGHTS
    --weight-regular: 400;
    --weight-bold: 700;
  }
}

/* ===============================================
   01b. MIXINS ‚Äî Canonical Reusables (moved to utilities)
   =============================================== */

/* ===============================================
   01c. NAMING CONVENTIONS ‚Äî Canonical SCSS
   =============================================== */
// Project Naming Conventions:
//  ‚Ä¢ Hyphenated class names are used for DOM elements (e.g. `.return-items-card`, `.main-content-row`).
//  ‚Ä¢ camelCase is used for SCSS mixins and variables (e.g. `@mixin flex-center`, `$tileSize`).
//  ‚Ä¢ BEM-like nesting is preferred for scoped selectors (e.g. `.card .card-title {}`).
//  ‚Ä¢ UI component classes start with `ui-` (e.g. `.ui-refund-details`).
//  ‚Ä¢ Layout classes use nouns reflecting their structure (e.g. `.floorplan`, `.stage`, `.footer`).
//  ‚Ä¢ Temporary debug or dev colors should include a comment like `// DEBUG-COLOR`.

/* ================================
   style.scss ‚Äî Canonical Styles Bucket
   Definition: Central SCSS file providing reset, baseline, and application-wide styling.
   Intent: Ensure consistent design, debugging visibility, and final styling authority.
   Constraints:
     - This is the single authoritative styling source.
     - No inline styles in components may override these definitions.
   Inputs: Classnames referenced in React components.
   Outputs: Global and component-specific visual styles.
   ================================ */

@layer reset {
  *,
  *::before,
  *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html,
  body {
    height: 100%;
    font-family: sans-serif;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  /* etc... */
}

@layer base {
  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
  }

  input,
  button,
  textarea,
  select {
    font: inherit;
  }

  /* Apply globally */
  body {
    font-family: var(--font-body);
    font-size: var(--font-md);
    font-weight: var(--weight-regular);
    color: var(--color-text);
  }

  /* Allow easy upgrade later */
  [data-theme="final"] {
    --font-display: "Inter", "Helvetica Neue", Arial, sans-serif;
    --font-body: "Inter", "Helvetica Neue", Arial, sans-serif;
  }

  @layer base {
    button {
      cursor: pointer;
      border: none;
      border-radius: var(--radius-sm);
      background-color: var(--color-primary);
      color: var(--color-text);
      padding: var(--space-8rpx) var(--space-16rpx);
      font-weight: var(--weight-bold);
      transition: background var(--motion-fast);
  
      &:hover {
        background-color: color-mix(in srgb, var(--color-primary) 85%, black 15%);
      }
  
      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
    }
  
    input,
    select,
    textarea {
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: var(--space-8rpx);
      background: var(--color-surface);
      color: var(--color-text);
      transition: border var(--motion-fast), box-shadow var(--motion-fast);
  
      &:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 50%, transparent);
      }
    }
  }
}

@layer components {
  .stage {
    background-color: var(--color-bg);
  }

  .actor-tile {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
  }

  .footer {
    background-color: var(--color-surface);
    border-top: 1px solid var(--color-border);
  }

  /// ==============================================
  /// Floorplan Layout ‚Äî BEM-style selectors
  /// ==============================================
  .floorplan {
    background-color: var(--color-bg);
  }
  .floorplan__top-bar {
    background-color: var(--color-surface);
  }
  .floorplan__left-column {
    background-color: var(--color-surface);
  }
  .floorplan__left-column-title {
    background-color: var(--color-primary);
  }
  .floorplan__right-column {
    background-color: var(--color-surface);
  }
  .floorplan__right-column-title {
    background-color: var(--color-success);
  }
  .floorplan__main-column {
    background-color: var(--color-surface);
  }
  .floorplan__page-title-row {
    background-color: var(--color-primary);
  }
  .floorplan__nav-bar-row {
    background-color: var(--color-primary);
  }
  .floorplan__main-content-row {
    background-color: var(--color-bg);
  }
  .floorplan__footer-row {
    background-color: var(--color-surface);
  }

  .tile {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
  }

  .return-items-card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
  }

  .catalog-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;

    img {
      width: 40px;
      height: 40px;
      object-fit: contain;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  }

  .qty-display {
    font-size: 2rem;
    font-weight: bold;
    height: 100%;
    width: 100%;
  }

  /// ==============================================
  /// Button Variants ‚Äî Hierarchy of Loudness
  /// ==============================================
  .btn--primary {
    background-color: var(--color-primary);
    color: var(--color-text);
    font-weight: var(--weight-bold);
    border: none;
    &:hover {
      background-color: color-mix(in srgb, var(--color-primary) 85%, black 15%);
    }
  }

  .btn--secondary {
    background-color: var(--color-success);
    color: var(--color-text);
    font-weight: var(--weight-regular);
    border: none;
    &:hover {
      background-color: color-mix(in srgb, var(--color-success) 85%, black 15%);
    }
  }

  .btn--outline {
    background-color: transparent;
    border: 1px solid var(--color-border);
    color: var(--color-text);
    font-weight: var(--weight-regular);
    &:hover {
      background-color: var(--color-bg);
    }
  }

  .btn--text {
    background: none;
    border: none;
    color: var(--color-primary);
    padding: 0;
    font-weight: var(--weight-regular);
    &:hover {
      text-decoration: underline;
    }
  }
}

/* ===============================================
   UTILITIES LAYER ‚Äî Canonical Utilities & Mixins
   =============================================== */
@layer utilities {
  /// ==============================================
  /// Mixins ‚Äî Canonical Reusables
  /// ==============================================
  @mixin card {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: transform var(--motion-fast) cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow var(--motion-fast) cubic-bezier(0.4, 0, 0.2, 1);
  }

  @mixin hover-lift {
    &:hover {
      transform: translateY(-2px) scale(1.012);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.13);
    }
  }

  /// ==============================================
  /// Utility Classes ‚Äî Layout & Alignment
  /// ==============================================
  .flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .text-right {
    text-align: right;
  }
  .pad-md {
    padding: var(--space-16rpx);
  }
}

/* @layer overrides: for dev/debug helpers. None present, but reserved. */
